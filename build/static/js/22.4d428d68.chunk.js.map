{"version":3,"sources":["pages/auth/ForgetPassword.tsx"],"names":["api","APICore","BottomLink","t","useTranslation","className","to","ForgetPassword","history","useHistory","useState","error","schemaResolver","yupResolver","yup","shape","email","required","bottomLinks","variant","onSubmit","formData","create","then","res","push","pathname","state","catch","err","console","log","resolver","label","type","name","placeholder","containerClass"],"mappings":"4OAaMA,EAAM,IAAIC,IAOVC,EAAa,WACf,IAAQC,EAAMC,cAAND,EAER,OACI,wBAAQE,UAAU,oBAAlB,SACI,oBAAGA,UAAU,aAAb,UACKF,EAAE,WAAY,IACf,cAAC,IAAD,CAAMG,GAAI,cAAeD,UAAU,kBAAnC,SACI,4BAAIF,EAAE,oBAoFXI,UA7EQ,WAEnB,IAAQJ,EAAMC,cAAND,EACFK,EAAUC,cAChB,EAAwBC,mBAAS,MAAjC,mBAAMC,EAAN,KAOMC,GAPN,KAOuBC,YACnBC,MAAaC,MAAM,CACfC,MAAOF,MAAaG,SAASd,EAAE,2BA0BvC,OACI,mCACI,eAAC,IAAD,CAAYe,YAAa,cAAChB,EAAD,IAAzB,UACI,oBAAIG,UAAU,OAAd,SAAsBF,EAAE,sBACxB,mBAAGE,UAAU,kBAAb,SACKF,EAAE,mGAKNQ,GACG,cAAC,IAAD,CAAOQ,QAAQ,SAASd,UAAU,OAAlC,SACKM,IAKL,eAAC,IAAD,CAAcS,SApCb,SAACC,GACd,IACIrB,EAAIsB,OAAJ,uBAAkC,CAACN,MAAMK,EAAQ,QAChDE,MAAK,SAACC,GAEHhB,EAAQiB,KAAK,CAACC,SAAS,gBAAgBC,MAAM,CAACX,MAAMK,EAAQ,YAE/DO,OAAM,SAACC,GACJC,QAAQC,IAAIF,MAGpB,MAAMlB,GACFmB,QAAQC,IAAIpB,KAwB8BqB,SAAUpB,EAA5C,UACI,cAAC,IAAD,CACIqB,MAAO9B,EAAE,SACT+B,KAAK,QACLC,KAAK,QACLC,YAAajC,EAAE,oBACfkC,eAAgB,SAGpB,qBAAKhC,UAAU,0BAAf,SACI,cAAC,IAAD,CAAQc,QAAQ,UAAUe,KAAK,SAA/B,SACK/B,EAAE","file":"static/js/22.4d428d68.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { Button, Alert } from 'react-bootstrap';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport * as yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { APICore } from '../../helpers/api/apiCore';\n\n// components\nimport { VerticalForm, FormInput } from '../../components';\n\nimport AuthLayout from './AuthLayout';\n\nconst api = new APICore();\n\ninterface UserData {\n    email: string;\n}\n\n/* bottom links */\nconst BottomLink = () => {\n    const { t } = useTranslation();\n\n    return (\n        <footer className=\"footer footer-alt\">\n            <p className=\"text-muted\">\n                {t('Back to')}{' '}\n                <Link to={'/auth/login'} className=\"text-muted ms-1\">\n                    <b>{t('Log in')}</b>\n                </Link>\n            </p>\n        </footer>\n    );\n};\n\nconst ForgetPassword = () => {\n    \n    const { t } = useTranslation();\n    const history = useHistory();\n    const[error,setError] = useState(null);\n\n    \n\n    /*\n     * form validation schema\n     */\n    const schemaResolver = yupResolver(\n        yup.object().shape({\n            email: yup.string().required(t('Please enter email')),\n        })\n    );\n\n    /*\n     * handle form submission\n     */\n    const onSubmit = (formData: UserData) => {\n        try{\n            api.create(`/api/password_reset/`,{email:formData['email']})\n            .then((res:any)=>{\n                  \n                history.push({pathname:'/auth/confirm',state:{email:formData['email']}});        \n            })\n            .catch((err:any) => {\n                console.log(err)\n            })\n        }\n        catch(error:any){\n            console.log(error)\n        }\n        \n        \n        \n    };\n\n    return (\n        <>\n            <AuthLayout bottomLinks={<BottomLink />}>\n                <h4 className=\"mt-0\">{t('Recover Password')}</h4>\n                <p className=\"text-muted mb-4\">\n                    {t(\"Enter your email address and we'll send you an email with instructions to reset your password\")}\n                </p>\n\n                \n\n                {error && (\n                    <Alert variant=\"danger\" className=\"my-2\">\n                        {error}\n                    </Alert>\n                )}\n\n                \n                    <VerticalForm onSubmit={onSubmit} resolver={schemaResolver}>\n                        <FormInput\n                            label={t('Email')}\n                            type=\"email\"\n                            name=\"email\"\n                            placeholder={t('Enter your email')}\n                            containerClass={'mb-3'}\n                        />\n\n                        <div className=\"mb-0 text-center d-grid\">\n                            <Button variant=\"primary\" type=\"submit\" >\n                                {t('Reset Password')}\n                            </Button>\n                        </div>\n                    </VerticalForm>\n                \n            </AuthLayout>\n        </>\n    );\n};\n\nexport default ForgetPassword;\n"],"sourceRoot":""}